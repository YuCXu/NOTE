# 密集索引与稀疏索引的区别

①密集索引文件中的搜索码值都对应一个索引值；

②稀疏索引文件只为索引码的某些值建立索引项。

![密集索引与稀疏索引](C:\Users\YuChen_Xu\Desktop\密集索引与稀疏索引.PNG)

密集索引：叶子节点保存的不只是键值，还保存了位于同一行记录里的其他列的信息，由于密集索引决定了表的物理排序顺序，一个表只有一个物理排序顺序，所以一个表只能创建一个密集索引。

稀疏索引：叶子节点仅保存了键位信息以及该行数据的地址，有的稀疏索引只保存了键位信息以及主键。

mylsam存储引擎，不管是主键索引，唯一键索引还是普通索引都是**稀疏**索引

innodb存储引擎：**有且只有一个密集索引**。密集索引的选取规则如下：

- 若主键被定义，则主键作为密集索引
- 如果没有主键被定义，该表的第一个唯一非空索引则作为密集索引
- 若不满足以上条件，innodb内部会生成一个隐藏主键（密集索引）
- 非主键索引存储相关键位和其对应的主键值，包含两次查找



